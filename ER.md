# E-R图

ER图应该在关系型数据库中有所涉及,我认为书上讲的就很不错,也把书上的ER图部分的内容截取了下来,你可以直接[下载pdf](https://github.com/luzhixing12345/WHU-software-engineering/releases/download/v0.0.1/ER.pdf)

你可以在这里找到我[所有图的绘制源文件](https://www.yuque.com/books/share/7a36531d-5b56-4a7a-b04e-87630f62eb41?#)

## 什么是E-R图？

E-R图(entity-relationship model)又称实体关系图,是一种提供了实体,属性和联系的方法,用来描述现实世界的概念模型。通俗点讲就是,当我们理解了实际问题的需求之后,需要用一种方法来表示这种需求,概念模型就是用来描述这种需求

用到了三个主要的元素类型:

1. 实体集

   实体集是某种抽象的对象,相似实体的结合形成实体集

   比如电影数据库中每个电影是一个实体,电影的集合构成一个实体集

2. 属性

   实体所具有的特性称为属性

   比如实体集movies具有电影名,片长,导演等属性

3. 联系

   两个或者多个实体集的联系,实体之间的联系通常有3种类型：一对一联系,一对多联系,多对多联系

   比如电影和影星是两个实体集,那star-in(主演)就是连接这两个实体集的联系

## E-R图怎么画

下面是一个电影相关的ER图

![20220607144528](https://raw.githubusercontent.com/learner-lu/picbed/master/20220607144528.png)

你可以注意到有三个实体集,使用矩形绘制,每一个实体集分别于他们的属性通过**直线**相连,属性使用椭圆

实体集之间通过联系关联,关联使用菱形

值得一提的是,相信你注意到了**箭头和直线**,箭头所指的一方代表一个/至多一个.从这个例子也很好理解,电影和影星之间是多对多的关系,一个影星可以出演多部电影,一部电影也可以拥有很多影星.但是一部电影只能属于一个工作室,一个工作室可以有多部电影

除了使用箭头来表示,我们也可以是用直线,在直线的两端标记1/n

![20220607145107](https://raw.githubusercontent.com/learner-lu/picbed/master/20220607145107.png)

---

## 总结

当然ER图可以考的比较复杂,比如数据库类型的题目,但是我们的目的是构建一个软件工程的模型,通常实体/联系/属性简单的连接就可以完成了

还有一个比较令人头大的就是如何命名实体之间的联系,这个我也不是很好说,大概意思差不多可以理解就行,一个动词

参考

https://zhuanlan.zhihu.com/p/270299029